{"google":"","name":"qunb public api","tagline":"Upload and retrieve data series like it's 2013! v0.1","body":"### Welcome to qunb's public api documentation\r\nThis is the first public version of our api documentation. We're doing our best to make it available as soon as possible to confront it with our dear user's needs, even if that means publishing an API that still has some bugs and limitations. Please take that into consideration and help us make things better! :)\r\n\r\n\r\n## Core concepts\r\n\r\n### Series\r\n`Series` correspond to a single measure (ex: GDP, Public Debt, Temperature). It contains a set of `Points` (values with coordinates). All these `Points` have the same unit and come from the same source. The coordinates of the `Points` correspond to their position on the different `Dimensions`. Each series has a fixed set of `Dimensions`. `Series` are the highest level of abstraction.\r\n\r\n### Dimensions\r\n`Dimensions` correspond to degrees of freedom in a `Series`. For instance, the GDP will probably have two dimensions: time and place. A `Point` of the GDP series would be represented by (value, time, place), for instance (2.580, 2012, France) where unit would be 'Billions of dollars'. Each point in a `Series` has a fixed number of coordinates, each coordinate corresponding to a `Dimension`.\r\n\r\n`Dimensions` can be shared among several `Series`. For instance 'Time' is a widely used `Dimension`. It's shared among all time-series. Thanks to that, all time-series are comparable on qunb.\r\nAnother widely used `Dimension` is 'Place'.\r\n\r\n### Nodes\r\n`Nodes` are the possible values of a `Dimension`. Each `Dimension` in a `Series` has a set of `Nodes`. Let's take the GDP example again. Let's say we have GDP measure for France, Germany and the United-States for years 2010, 2011 and 2012. 'France', 'Germany' and 'Unites-States' are the three `Nodes` of the 'Place' `Dimension` for the GDP `Series`. '2010', '2011' and '2012' are the three `Nodes` of the 'Time' `Dimension`.\r\n\r\n`Nodes` can be represented by a graph with multiple levels. For instance 'France' and 'Germany' can be considered as children of the 'Europe' node and also children of the 'European Union' node. We have a set of api entry-points to navigate through the graph. We'll explain that a bit later.\r\n\r\n\r\n### Points\r\n`Points` are what they sound like: values with coordinates.\r\n\r\n\r\n## Digging in the upload API\r\nNow that you are familiar with the core concepts of data on qunb, let's dive in the part of the api that actually let's you upload data to qunb.\r\n\r\n### Step 1: Set up an account\r\nTo upload data on qunb, you're going to need a user account and be logged in.\r\nIf you don't have one, send an email to hello@qunb.com and we'll send you one.\r\n\r\nOnce you're logged in our website, go check your cookies. Your access key will be in the `X-QunbUserKey` cookie. I know we can make this key more easily accessible but we honestly don't give a damn. We're all hackers around here, right?\r\n\r\nOk copy-paste that string somewhere, we're going to need for step 3.\r\n\r\n### Step 2: Enrich your data\r\nThe cool thing about qunb is that we enrich your data to make it comparable. Basically, that means you enter words like 'France', 'Paris', '2012' and we recognize the places as places and dates as dates. So we turn them into `Nodes`.\r\n\r\nWe have a cool little service for data-enrichment called 'Analyze' (don't ask me how we found such an original name).\r\n\r\nIt's available at this url: `/api/v1/datadesk/analyze`.\r\n\r\nSo you're going to **call this service once for each of your dimensions** and pass it your nodes.\r\n\r\n**Request Type:** `POST`\r\n\r\n**Request Payload:**\r\n```json\r\n{\r\n   \"dimGroup\":\"TIME\",\r\n   \"localNodes\":[\r\n      {\r\n         \"label\":\"2010\",\r\n         \"uri\":\"test@qunb.com:MjAwOA\"\r\n      },\r\n      {\r\n         \"label\":\"2011\",\r\n         \"uri\":\"test@qunb.com:MjAwOQ\"\r\n      },\r\n      {\r\n         \"label\":\"2012\",\r\n         \"uri\":\"test@qunb.com:MjAxMA\"\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\n`dimGroup` is the type of dimension. Possible values are: `TIME`, `GEO` and `OTHER`.\r\n`localNodes` is an array of possible values for your dimension. Each node is represented by `label` which is simply the string representation of your node and `uri` which is a unique id for your node.\r\n\r\n**What's the unique id for?**\r\n\r\nWhen the service sends you back the enriched versions of your nodes, this id helps you keep track of the original nodes.\r\n\r\n**What should I use?**\r\n\r\nThe format is `[email]:[random_string]`\r\n\r\n\r\n**Response:**\r\n```json\r\n{\r\n   \"dimId\":\"time_d\",\r\n   \"localNodes\":[\r\n      // skip this\r\n   ],\r\n   \"sameAsCandidateNodes\":{\r\n      \"test@qunb.com:MjAwOA\":{\r\n         \"nodes\":[\r\n            {\r\n               \"uri\":\"time:2010\",\r\n               \"label\":\"2010\",\r\n               \"level\":\"YEAR\",\r\n               \"dimId\":\"time_d\",\r\n               \"dimGroup\":\"TIME\",\r\n               \"isContextualized\":null\r\n            }\r\n         ]\r\n      },\r\n      \"test@qunb.com:MjAwMA\":{\r\n         \"nodes\":[\r\n            {\r\n               \"uri\":\"time:2012\",\r\n               \"label\":\"2000\",\r\n               \"level\":\"YEAR\",\r\n               \"dimId\":\"time_d\",\r\n               \"dimGroup\":\"TIME\",\r\n               \"isContextualized\":null\r\n            }\r\n         ]\r\n      },\r\n      \"test@qunb.com:MjAwOQ\":{\r\n         \"nodes\":[\r\n            {\r\n               \"uri\":\"time:2011\",\r\n               \"label\":\"2011\",\r\n               \"level\":\"YEAR\",\r\n               \"dimId\":\"time_d\",\r\n               \"dimGroup\":\"TIME\",\r\n               \"isContextualized\":null\r\n            }\r\n         ]\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n`dimId` is the enriched `Dimension` id.\r\n\r\n`sameAsCandidateNodes` are the enriched `Nodes` coming from qunb. As you can notice, for each one of your local nodes, there can be one or several matches in the qunb graph. Each match has a clean `uri` which can either be created on-the-fly for your node if it didn't exist, or come from the qunb graph. For dates we use `time:2011`. For places, we use geonames ids like `geonames:3017382` (France).\r\n\r\n`level` can provide more information about the position of your node in the graph (YEAR, DECADE, MONTH,...).\r\n\r\n\r\n### Step 3: Upload your data\r\nOk now let's get to the fun part: uploading a new `Series`.\r\n\r\nThe series upload service is available at this url: `/api/v1/datadesk/series`.\r\n\r\nFor this example, let's say I want to upload this table:\r\n![data table with 8 values in 3 dimensions](https://s3-eu-west-1.amazonaws.com/uploads-eu.hipchat.com/17681/76016/1rtmztpb9bhqgvz/Screen%20Shot%202013-01-29%20at%2018.29.16.png)\r\n\r\n**Request Type:** `POST`\r\n\r\n**Request Headers:**\r\n* `X-QunbUserKey`: your user key, as explain in step 1.\r\n\r\n**Request Payload:**\r\n```json\r\n\r\n```\r\n\r\n`dimGroup` is the type of dimension. Possible values are: `TIME`, `GEO` and `OTHER`.\r\n`localNodes` is an array of possible values for your dimension. Each node is represented by `label` which is simply the string representation of your node and `uri` which is a unique id for your node.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n$ test\r\n```\r\n\r\n### Support\r\nHaving trouble with our API? Feel free to contact hello@qunb.com for some help!","note":"Don't delete this file! It's used internally to help with page regeneration."}